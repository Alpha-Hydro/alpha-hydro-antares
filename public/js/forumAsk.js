// Generated by CoffeeScript 1.10.0
(function() {
  (function($) {
    var ajaxResponseForm, modalResponseForm;
    ajaxResponseForm = $('#ajaxResponseForm');
    modalResponseForm = $('#modalResponseForm');
    $(document).on('submit', '#forum_ask', function(e) {
      var form;
      form = $(this);
      e.preventDefault();
      $.ajax({
        url: form.attr('action'),
        type: form.attr('method'),
        dataType: 'html',
        data: form.serialize(),
        error: function(jqXHR, textStatus, errorThrown) {
          return ajaxResponseForm.html("AJAX Error: " + textStatus);
        },
        success: function(data, textStatus, jqXHR) {
          return ajaxResponseForm.html(data);
        }
      });
      return setTimeout(function() {
        return modalResponseForm.modal('show');
      }, 300);
    });
    $(document).on('click', '#resetForm', function() {
      return $('#forum_ask').trigger('reset');
    });
    $(document).on('click', '#toFormAsk', function(event) {
      var target, target_offset, url;
      event.preventDefault();
      url = $(this).attr('href');
      target_offset = $(url).offset();
      target = target_offset.top;
      return $('html, body').animate({
        scrollTop: target
      }, 1000);
    });
    $(document).on('click', '#refreshCaptcha', function(event) {
      var captchaImg, captchaKey;
      event.preventDefault();
      captchaImg = $('#captcha-form img');
      captchaKey = $('#captcha-id');
      return $.ajax({
        url: '/forum/refresh-captcha/',
        dataType: 'json',
        error: function(jqXHR, textStatus, errorThrown) {
          return console.log("AJAX Error: " + errorThrown);
        },
        success: function(data, textStatus, jqXHR) {
          captchaImg.attr('src', data.src);
          return captchaKey.attr('value', data.id);
        }
      });
    });
    return false;
  })(jQuery);

}).call(this);

//# sourceMappingURL=forumAsk.js.map
