// Generated by CoffeeScript 1.9.3
(function() {
  (function($) {
    var ajaxResponseContent, dropdoun;
    ajaxResponseContent = $('#search-autocomplete');
    dropdoun = $('.dropdown');
    return $(document).on('keyup', '#search-query', function(e) {
      var value;
      value = $(this).val();
      console.log(e.keyCode);
      return $.ajax({
        url: '/search/index/autocomplete/',
        type: 'post',
        dataType: 'html',
        data: {
          query: value
        },
        error: function(jqXHR, textStatus, errorThrown) {
          return ajaxResponseContent.html("AJAX Error: " + textStatus);
        },
        success: function(data, textStatus, jqXHR) {
          ajaxResponseContent.html(data);
          if (data !== '') {
            return dropdoun.addClass('open');
          } else {
            return dropdoun.removeClass('open');
          }
        }
      });
    });
  })(jQuery);

}).call(this);

//# sourceMappingURL=search.js.map
