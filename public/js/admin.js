// Generated by CoffeeScript 1.9.3
(function() {
  var loadFile;

  loadFile = function(event, id) {
    var reader;
    reader = new FileReader();
    reader.onload = function() {
      var output;
      output = document.getElementById(id);
      output.value = event.target.value;
      return output.src = reader.result;
    };
    return reader.readAsDataURL(event.target.files[0]);
  };

  (function($) {
    var getInput;
    $('[data-toggle="tooltip"]').tooltip();
    $(document).one('change', 'form#itemEdit', function() {
      return $('#saveItemEdit').removeClass('hidden').addClass('show');
    });
    $('#image').click(function() {
      $('#imageLoadFile').trigger('click');
      return false;
    });
    $('#imageLoadFile').change(function(event) {
      return loadFile(event, 'image');
    });
    $('#imageDraft').click(function() {
      $('#imageDraftLoadFile').trigger('click');
      return false;
    });
    $('#imageDraftLoadFile').change(function(event) {
      return loadFile(event, 'imageDraft');
    });
    $('#imageTableLoadBtn').click(function() {
      $('#imageTableLoadFile').trigger('click');
      return false;
    });
    $('#imageTableLoadFile').change(function(event) {
      return loadFile(event, 'imageTable');
    });
    $(document).on('change', '#propertyId', function() {
      var ajaxContent, src, val;
      val = $(this).val();
      src = '/admin/pipeline/select-add-property';
      ajaxContent = $('#ajaxContent');
      if (val !== 0) {
        return getInput(src, val, ajaxContent);
      }
    });
    getInput = function(src, val, ajaxContent) {
      $.ajax({
        url: src,
        type: 'POST',
        dataType: 'html',
        data: {
          'propertyId': val
        },
        error: function(jqXHR, textStatus, errorThrown) {
          return console.log("AJAX Error: " + textStatus);
        },
        success: function(data, textStatus, jqXHR) {
          return ajaxContent.html(data);
        }
      });
      return false;
    };
    return $('#pipelineProperties').editTable({
      url: 'example.php',
      columns: {
        editable: [[1, 'propertyValue'], [2, 'propertySorting']]
      }
    });
  })(jQuery);

}).call(this);

//# sourceMappingURL=admin.js.map
